<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>apt: StateChanges Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">apt
   &#160;<span id="projectnumber">2.2.3</span>
   </div>
   <div id="projectbrief">commandline package manager</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>APT</b></li><li class="navelem"><a class="el" href="classAPT_1_1StateChanges.xhtml">StateChanges</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classAPT_1_1StateChanges-members.xhtml">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">StateChanges Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="statechanges_8h_source.xhtml">apt-pkg/statechanges.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAPT_1_1StateChanges_1_1Private.xhtml">Private</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ace2971a590d142a802c6030b1548e55e"><td class="memItemLeft" align="right" valign="top"><a id="ace2971a590d142a802c6030b1548e55e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>APT_GETTERSETTER</b> (Hold)</td></tr>
<tr class="separator:ace2971a590d142a802c6030b1548e55e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d201c249b4860571fed4af0ccd6cbb7"><td class="memItemLeft" align="right" valign="top"><a id="a2d201c249b4860571fed4af0ccd6cbb7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>APT_GETTERSETTER</b> (Unhold)</td></tr>
<tr class="separator:a2d201c249b4860571fed4af0ccd6cbb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb1df454023fceec93dfe5673cc354e7"><td class="memItemLeft" align="right" valign="top"><a id="abb1df454023fceec93dfe5673cc354e7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>APT_GETTERSETTER</b> (Install)</td></tr>
<tr class="separator:abb1df454023fceec93dfe5673cc354e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a506beaa10530a1f2a3adedfdd58d2216"><td class="memItemLeft" align="right" valign="top"><a id="a506beaa10530a1f2a3adedfdd58d2216"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>APT_GETTERSETTER</b> (Remove)</td></tr>
<tr class="separator:a506beaa10530a1f2a3adedfdd58d2216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a242dd89c5387e1d1ee0a173e84423"><td class="memItemLeft" align="right" valign="top"><a id="ab8a242dd89c5387e1d1ee0a173e84423"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>APT_GETTERSETTER</b> (Purge)</td></tr>
<tr class="separator:ab8a242dd89c5387e1d1ee0a173e84423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a829226f26d36efb20eaa6363404dfe0b"><td class="memItemLeft" align="right" valign="top"><a id="a829226f26d36efb20eaa6363404dfe0b"></a>
<a class="el" href="classAPT_1_1VersionContainer.xhtml">APT::VersionVector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>Error</b> ()</td></tr>
<tr class="separator:a829226f26d36efb20eaa6363404dfe0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8bb3912a3ce86b15842e79d0b421204"><td class="memItemLeft" align="right" valign="top"><a id="ac8bb3912a3ce86b15842e79d0b421204"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>clear</b> ()</td></tr>
<tr class="separator:ac8bb3912a3ce86b15842e79d0b421204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a644718bb2fb240de962dc3c9a1fdf0dc"><td class="memItemLeft" align="right" valign="top"><a id="a644718bb2fb240de962dc3c9a1fdf0dc"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>empty</b> () const</td></tr>
<tr class="separator:a644718bb2fb240de962dc3c9a1fdf0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f5fc89488e7b1c1b0d68a586e23d7c1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAPT_1_1StateChanges.xhtml#a6f5fc89488e7b1c1b0d68a586e23d7c1">Save</a> (bool const DiscardOutput=false)</td></tr>
<tr class="separator:a6f5fc89488e7b1c1b0d68a586e23d7c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b0b3e10dcce57059ec0e4cdf2bc198"><td class="memItemLeft" align="right" valign="top"><a id="a45b0b3e10dcce57059ec0e4cdf2bc198"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>StateChanges</b> (<a class="el" href="classAPT_1_1StateChanges.xhtml">StateChanges</a> &amp;&amp;)</td></tr>
<tr class="separator:a45b0b3e10dcce57059ec0e4cdf2bc198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8397c3141084c0396d06354c5eba4158"><td class="memItemLeft" align="right" valign="top"><a id="a8397c3141084c0396d06354c5eba4158"></a>
<a class="el" href="classAPT_1_1StateChanges.xhtml">StateChanges</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classAPT_1_1StateChanges.xhtml">StateChanges</a> &amp;&amp;)</td></tr>
<tr class="separator:a8397c3141084c0396d06354c5eba4158"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple wrapper class to abstract away the differences in storing different states in different places potentially in different versions. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6f5fc89488e7b1c1b0d68a586e23d7c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f5fc89488e7b1c1b0d68a586e23d7c1">&#9670;&nbsp;</a></span>Save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Save </td>
          <td>(</td>
          <td class="paramtype">bool const&#160;</td>
          <td class="paramname"><em>DiscardOutput</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>commit the staged changes to the database(s).</p>
<p>Makes the needed calls to store the requested states. After this call the state containers will hold only versions for which the storing operation succeeded. Versions where the storing operation failed are collected in #Error(). Note that error is an upper bound as states are changed in batches so it isn't always clear which version triggered the failure exactly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DiscardOutput</td><td>controls if stdout/stderr should be used by subprocesses for (detailed) error reporting if needed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><b>false</b> if storing failed, true otherwise. Note that some states might be applied even if the whole operation failed. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.xhtml#_todo000069">Todo:</a></b></dt><dd>supported only since 1.17.7 in dpkg </dd></dl>

<p class="reference">References <a class="el" href="classpkgSystem.xhtml#a907b351d54f285f936dd6d2dae4de2ca">pkgSystem::MultiArchSupported()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classpkgDPkgPM.xhtml#a807efc750fd999dcd0e3a1c90f5684ca">pkgDPkgPM::Go()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>apt-pkg/<a class="el" href="statechanges_8h_source.xhtml">statechanges.h</a></li>
<li>apt-pkg/statechanges.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
